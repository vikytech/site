<!-- Include Data Base  -->















<!DOCTYPE html>
<html>
  <!-- Include Data Base  -->














<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Title Site
  ___________________________________________ -->
  <title>
    
    
        
          Mutation Testing | VikyTech - Micro tech blogs and content
        
    
    
  </title>

  <!-- Metatags
  ___________________________________________ -->
  <meta name=description
  content="
    ">


  

  

  
  <meta http-equiv="cache-control" content="max-age=29030400"/>
  

  <meta http-equiv="pragma" content="public">

  <meta name="keywords" content="Vikytech, tech" />

  <meta name="author" content="Vikhyath Choradia" />

  <meta http-equiv="Content-Language" content="en">

  <!-- Open Graph -->
  <meta property="og:locale" content="en" />

  <meta property="og:site_name" content="VikyTech" />

  <meta property="og:type" content="WebSite" />

  <meta property="og:url" content="https://vikytech.in/mutation-testing" />

  <meta property="og:description" content="
    Micro tech blogs and content" />

  <meta property="og:title" content="Mutation Testing
  " />

  <link rel="canonical" href="https://vikytech.in/mutation-testing">

  <link type="application/atom+xml" rel="alternate"
  title="VikyTech"
  href="https://vikytech.in/feed.xml">

    <!-- Favicon
  ___________________________________________ -->
  <link rel="icon" type="image/png" sizes="32x32"
  href="https://vikytech.in/assets/images/favicon/favicon-32x32.png">


  <!-- Fonts
  ___________________________________________ -->
  <!-- https://freebies.fluxes.com/blog/best-free-typewriter-fonts/
  https://www.creativebloq.com/typography/best-typewriter-fonts-10135084 -->
  <link href="https://fonts.googleapis.com/css?family=Special+Elite" rel="stylesheet">
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  
  
  <!--   <link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500&display=swap" rel="stylesheet"> -->

  <!-- Vendor
  ___________________________________________ -->
  <link rel="stylesheet" href="https://vikytech.in/assets/css/bootstrap.css">
  <link rel="stylesheet" href="https://vikytech.in/assets/css/jektify.css">

  <!-- Themes
  ___________________________________________ -->
  
  <link rel="stylesheet" href="https://vikytech.in/assets/css/hacking.css">

  <!-- Google Analytics -->
  

</head>

  <body class="body " id="top">
    <div class="container layout_default">
      <div class="row">
        <!-- Include Data Base  -->














<div class="col-lg-3 px-0 mt-0 sidebar">
  <div class="
     py-3 
     sticky-top  flex-grow-1">
    <div class="pt-3 sidebar__wrapper">
      <div class="nav flex-lg-column mx-3 mx-lg-0">
        
        <div class="d-none
           d-sm-block 
          sidebar__avatar_flip">
          <div class="sidebar__avatar_flip-card">
            <a class="sidebar__avatar_flip-front sidebar__avatar_flip-face" href="https://vikytech.in/">
              
              <img class="p-1 img-fluid mx-auto d-block
                 animation__pulse 
                 sidebar_avatar_circle 
                 sidebar_avatar_background 
                
                image_avatar
              " src="/assets/images/avatar/logo.png" alt="Avatar">
              
            </a>
            <a class="sidebar__avatar_flip-back sidebar__avatar_flip-face" href="https://vikytech.in/">
              
              <img class="p-1 img-fluid mx-auto d-block
                 animation__pulse 
                 sidebar_avatar_circle 
                 sidebar_avatar_background 
                
                image_avatar
              " src="/assets/images/avatar/name.png" alt="Avatar">
              
            </a>
          </div>
        </div>
        
        <h1 class="p-2 text-center d-md-flex align-items-center mx-auto  animation__sidebar-title  sidebar__title">
          <a href="https://vikytech.in/" class="nav-link" style="font-size: 2.3rem">VikyTech</a>
        </h1>
        <div class="p-2 mx-3
           d-md-flex flex-md-column align-items-md-start 
          align-items-center align-items-lg-start flex-lg-column mx-auto mr-lg-3 ml-lg-3
          sidebar__menu  animation__sidebar-menu ">
          <div class="my-1 d-none d-md-block mr-3 sidebar__menu-title">Menu:
            Blogs</div>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="mr-3 mr-lg-0 float-left float-lg-none sidebar__menu-item">
            <i class="mr-1 fas fa-edit"></i>
            <a class="sidebar__menu-link" href="https://vikytech.in/blogs/">Blogs</a>
          </li>
          
          
          
          
          
          
          <li class="mr-3 mr-lg-0 float-left float-lg-none sidebar__menu-item">
            <i class="mr-1 fas fa-tags"></i>
            <a class="sidebar__menu-link" href="https://vikytech.in/blog/tags/">Tags</a>
          </li>
          
          
          
          
          <li class="mr-3 mr-lg-0 float-left float-lg-none sidebar__menu-item">
            <i class="mr-1 fas fa-search"></i>
            <a class="sidebar__menu-link" href="https://vikytech.in/blog/search/">Search</a>
          </li>
          
          
          
          
          <li class="mr-3 mr-lg-0 float-left float-lg-none sidebar__menu-item">
            <i class="mr-1 fas fa-rss"></i>
            <a class="sidebar__menu-link" href="https://vikytech.in/blogs/feed.xml">Feed</a>
          </li>
          
        </div>
      </div>
    </div>
  </div>
</div>
        <!-- Include Data Base  -->














<div class="col-lg-9 p-0 py-4 content" id="main">
    <!-- Include Data Base  -->














<div class="px-3 mt-lg-0 layout_post  animation__content " itemscope itemtype="http://schema.org/BlogPosting">

    <!-- <div class="container-fluid"> -->


    <div class="p-0 p-lg-3 mb-4 layout_post__header">
        <h1 class="font-weight-bold layout_post__title">Mutation Testing</h1>
        <div class="layout_post__date">
            <time class="layout_post__time">
          <i class="far fa-calendar-alt"></i>
          



October
  
29,
2020

        </time>
        </div>

        <div class="layout_post__tags">
            <i class="fa fa-tags"></i> Tags:  | 
            <a class="layout_post__tags-link" href="https://vikytech.in/blog/tags//java">java</a> | 
            <a class="layout_post__tags-link" href="https://vikytech.in/blog/tags//mutation-testing">mutation-testing</a> | 
            <a class="layout_post__tags-link" href="https://vikytech.in/blog/tags//pit">pit</a> | 
        </div>

        
        <div class="layout_post__reading_time">
            <i class="far fa-clock"></i> Read this in "about  4  minutes".
        </div>
        

    </div>

    <div class="p-0 p-lg-3 mb-4 layout_post__content">
        <div class="d-block">
            <div class="py-3 row">
                <div class="offset-6 col-6 offset-sm-9 col-sm-3 offset-lg-10 col-lg-2">
                    <!-- jekyll.environment == 'production' and -->
                    
                </div>
            </div>
            <p><a href="https://www.youtube.com/watch?v=nTTp8c1C8jA" target="_blank" rel="noopener noreferrer"><img src="/assets/images/posts/mutation-testing.png" alt="Watch the video"></a></p>

<p><a href="https://github.com/vikytech/MutationTesting" target="_blank" rel="noopener noreferrer">Demo</a></p>

<h1 id="what-is-mutation-testing">What is Mutation testing</h1>

<p>Mutation testing (or mutation analysis or program mutation) is used to design new software tests and evaluate the quality of existing software tests.
Each mutated version is called a mutant and tests detect and reject mutants by causing the behavior of the original version to differ from the mutant.</p>

<h2 id="things-to-consider">Things to consider</h2>

<ul>
  <li>Limit the mutation operators used</li>
  <li>Limit the number of mutations per class</li>
  <li>Tweak the number of threads</li>
  <li>Target only specific portions of your codebase</li>
  <li>Don’t run this with every commit as it takes time to run these test….may be as smoke test</li>
</ul>

<h2 id="setup">Setup</h2>

<ul>
  <li><a href="#gradle">Gradle</a></li>
  <li><a href="#intellij-plugin">Intellij Plugin</a></li>
  <li><a href="#command-line">CLI</a></li>
</ul>

<h3 id="gradle">Gradle</h3>

<p>Add Pitest plugin to gradle</p>
<div class="code-container">
    <button class="copy-code-button" aria-label="Copy code to clipboard"></button>
</div>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">id</span> <span class="s1">'info.solidsoft.pitest'</span> <span class="n">version</span> <span class="s1">'1.6.0'</span>
</code></pre></div></div>

<p>Create pitest task with your needed configuration</p>
<div class="code-container">
    <button class="copy-code-button" aria-label="Copy code to clipboard"></button>
</div>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pitest</span> <span class="o">{</span>
    <span class="n">mainSourceSets</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="n">sourceSets</span><span class="o">.</span><span class="na">main</span><span class="o">])</span> <span class="c1">// Only for individual contribution, not recommended for repo having more than 10-15 classes</span>
    <span class="n">testSourceSets</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="n">sourceSets</span><span class="o">.</span><span class="na">test</span><span class="o">])</span> <span class="c1">// Only for individual contribution, not recommended for repo having more than 10-15 classes</span>
    <span class="n">targetClasses</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="s2">"com.foo.*"</span><span class="o">,</span><span class="s2">"com.bar.*"</span><span class="o">])</span> <span class="c1">// Ignore if mainSourceSets &amp; testSourceSets is specified</span>
    <span class="n">excludedClasses</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="s2">"com.foo1.*"</span><span class="o">,</span><span class="s2">"com.bar.IT*"</span><span class="o">])</span>  <span class="c1">// Ignore if mainSourceSets &amp; testSourceSets is specified</span>
    <span class="n">pitestVersion</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s1">'1.6.7'</span><span class="o">)</span> <span class="c1">// Not needed if you want to use the default version provided by plugin</span>
    <span class="n">junit5PluginVersion</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s1">'0.14'</span><span class="o">)</span>
    <span class="n">outputFormats</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="s1">'HTML'</span><span class="o">])</span> <span class="c1">// XML is also available</span>
    <span class="n">mutators</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="s2">"ROR"</span><span class="o">,</span> <span class="s2">"RETURN_VALS"</span><span class="o">,</span> <span class="s2">"INVERT_NEGS"</span><span class="o">,</span> <span class="s2">"MATH"</span><span class="o">,</span> <span class="s2">"VOID_METHOD_CALLS"</span><span class="o">,</span> <span class="s2">"NON_VOID_METHOD_CALLS"</span><span class="o">])</span>
    <span class="n">avoidCallsTo</span><span class="o">.</span><span class="na">set</span><span class="o">([</span><span class="s2">"java.util"</span><span class="o">,</span> <span class="s2">"java.lang"</span><span class="o">])</span>
    <span class="n">threads</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>
    <span class="n">timestampedReports</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
    <span class="n">mutationThreshold</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">95</span><span class="o">)</span>
    <span class="n">coverageThreshold</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">95</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Bind the created task with <code class="language-plaintext highlighter-rouge">test</code>/<code class="language-plaintext highlighter-rouge">build</code> task as required</p>
<div class="code-container">
    <button class="copy-code-button" aria-label="Copy code to clipboard"></button>
</div>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">test</span> <span class="o">{</span>
    <span class="n">finalizedBy</span> <span class="s1">'pitest'</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="intellij-plugin">Intellij Plugin</h3>

<p>Intellij idea → Preferences → Plugins → search “<a href="https://plugins.jetbrains.com/plugin/7119-pit-mutation-testing-idea-plugin/" target="_blank" rel="noopener noreferrer">PIT mutation testing Idea plugin</a>”</p>

<h4 id="extra-params-passed-to-plugin">Extra Params passed to plugin:</h4>

<p>Edit configuration for Pitest Runner and add the needed parameters from below</p>

<h4 id="target-classes">Target Classes:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Flag: --targetClasses
    Possible Values: PackagePath

    Eg: `--targetClasses com.foo.service.auth*,com.foo.service.product.service.*`
</code></pre></div></div>

<h4 id="source-directory">Source Directory:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Flag: --sourceDirs
    Possible Value: Package ROOT Path

    Eg: `--sourceDirs &lt;PATH_TO_BASE_DIR&gt;/service/src/main`
</code></pre></div></div>

<h4 id="output-formats">Output Formats:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>List of formats in which to write mutation results as the mutations are analysed. Supported formats are HTML, XML, CSV.

    Flag: --outputFormats
    Possible Values: XML,HTML

    Eg: `--outputFormats XML,HTML`
</code></pre></div></div>

<h4 id="exclude-unit-tests">Exclude Unit Tests:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Flag: --excludedClasses
    Possible Values: REGEX/FileName
Eg: `--excludedClasses *Test`
</code></pre></div></div>

<h4 id="exclude-integration-tests">Exclude Integration Tests:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Flag: --excludedTestClasses
    Possible Values: REGEX/FileName

    Eg: `--excludedTestClasses *IntegrationTests,*IntegrationTest`

    PIT filters are matched against the class names in the compiled binary, not against the source file name.
</code></pre></div></div>

<h4 id="exclude-annotators">Exclude annotators:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Flag: --excludedMethods
Possible Values: annotator names

Eg: `--excludedMethods toString,hashCode,equals`

    Excluded methods are used to avoid creating mutants within methods that match the supplied list of names.

PIT test will not consider spring annotator like @Service, @Api, @RestController whereas it mutates other value based spring annotations like @Value and also java annotations like @ToString,@EqualsAndHashCode
</code></pre></div></div>

<h4 id="customize-mutators">Customize mutator(s):</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Flag: --mutators
Possible Values: Mutator type

Eg: `--mutators ROR,RETURN_VALS`

List of Mutators recommended
    ROR
    RETURN_VALS
    INVERT_NEGS
    MATH
    VOID_METHOD_CALLS
    NON_VOID_METHOD_CALLS
</code></pre></div></div>
<p>If we need to use other mutators, vist <a href="https://pitest.org/quickstart/mutators" target="_blank" rel="noopener noreferrer">official page</a></p>

<h4 id="verbose">Verbose:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Flag: --verbose
</code></pre></div></div>

<h2 id="command-line">Command Line</h2>

<p>export a variable named <code class="language-plaintext highlighter-rouge">$CLASSPATH</code> and add all the paths to the dependency jars and <a href="https://github.com/hcoles/pitest/releases" target="_blank" rel="noopener noreferrer">Pitest jars</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Pitest jars
* pitest-x.y.z.jar
* pitest-command-line-x.y.z.jar
* pitest-entry-x.y.z.jar
</code></pre></div></div>

<p>Command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -cp $CLASSPATH \

org.pitest.mutationtest.commandline.MutationCoverageReport \

--reportDir &lt;PROJECT_PATH&gt;/build/reports/pittest \

--sourceDirs &lt;PROJECT_PATH&gt;/&lt;MAIN_SRC_PATH&gt; \

--outputFormats XML,HTML \

--mutators ROR,RETURN_VALS,INVERT_NEGS,MATH,VOID_METHOD_CALLS \

--targetClasses "com.foo.service.auth*,com.foo.service.product.*" \

--excludedClasses "*Test" \

--excludedTestClasses "*IntegrationTests,*IntegrationTest"
</code></pre></div></div>

<h4 id="note-all-the-above-documentation-tested-on-pitest-167">NOTE: All the above documentation tested on Pitest-1.6.7</h4>

        </div>
    </div>

    <div class="p-0 p-lg-3 mb-4 layout_post__footer">
        
        <div class="mb-5 layout_post__dayquote">
            <h2 class="layout_post__dayquote-title"></h2>
            <p class="layout_post__dayquote-description"></p>
        </div>
         
        <div class="layout_post__share">
            <div class="row justify-content-center">
                <h2>Share this post</h2>
            </div>
            <div class="row justify-content-center">
                <div class="offset-0 offset-sm-0 offset-md-0 offset-lg-2"></div>

                
                <div class="text-center mb-1 mb-sm-0 col-12 col-sm-3 col-md-3 col-lg-2">
                    <a class="btn btn-link btn-typing layout_post__share-fb" href="#" title="" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),'facebook-share-dialog','width=626,height=436');return false;">Facebook</a>
                </div>
                 
                <div class="text-center mb-1 mb-sm-0 col-12 col-sm-3 col-md-3 col-lg-2">
                    <a class="btn btn-link btn-typing layout_post__share-ln" href="http://www.linkedin.com/cws/share?url=https://vikytech.in/mutation-testing" onclick='window.open(this.href,"popupwindow","status=0,height=500,width=700,resizable=0,top=50,left=100");return false;' target="_blank" title="" rel="noopener noreferrer">Linkedin</a>
                </div>
                 
                <div class="text-center mb-1 mb-sm-0 col-12 col-sm-3 col-md-3 col-lg-2">
                    <a class="btn btn-link btn-typing layout_post__share-tw" href="https://twitter.com/intent/tweet?text=https://vikytech.in/mutation-testing%20-%20Mutation%20Testing%20by%20" target="_blank" title="" rel="noopener noreferrer">Twitter</a>
                </div>
                

                <div class="offset-0 offset-sm-0 offset-md-0 offset-lg-2"></div>
            </div>
        </div>
        

        <!-- Affiliates Block -->
        <!-- Include Data Base  -->















<!--

<div class="row row-cols-1 row-cols-md-2">
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
</div> -->
 
        <div class="row mt-5 layout_post__author">
            
            <div class="col-3 col-lg-2">
                <img class="img-fluid layout_post__author-img" src="/assets/images/author/author.png" width="140" height="auto" alt="Vikhyath Choradia">
            </div>
            
            <div class="col-9 col-lg-10 ">
                <p class="layout_post__author-title">VikyTech</p>
                <h2 class="font-weight-bold layout_post__author-name">Vikhyath Choradia</h2>
                <p class="layout_post__author-description">Short blogs
</p>
            </div>
        </div>
        
    </div>

    <!-- jekyll.environment == 'production' and -->
    

    <!-- </div> -->
</div>
</div>
      </div>
    </div>
    <div class="py-1 position-fixed fixed-bottom w-100 footer">
    <div class="container-fluid">
        <div class="row">
            <div class="text-center col-12 col-md-4">
                <span class="footer__copyright">VikyTech © 2012-2023 • All right reserved.</span>
            </div>
            <div class="text-center col-12 col-md-4 d-none d-md-block">
                <span class="footer__message">With Great Power Comes Great Responsiblity.</span>
            </div>
            <div class="text-center col-12 col-md-4">
                <span class="footer__madeby">Made with ❤️</span>
            </div>
        </div>
    </div>
</div>

<div class="d-block  d-lg-none  position-fixed fixed-bottom w-100 scrolltop">
    <div class="float-right mr-3 scrolltop__wrapper">
        <a class="mr-3 scrolltop__button" href="#top"><i class="fas fa-caret-up"></i></a>
    </div>
</div>
    <!-- Include Data Base -->














<!-- JQuery -->
<script type="text/javascript" src="https://vikytech.in/assets/vendor/js/jquery.min.js"></script>

<!-- Bootstrap -->
<script type="text/javascript" src="https://vikytech.in/assets/vendor/js/popper.min.js"></script>
<script type="text/javascript" src="https://vikytech.in/assets/vendor/js/bootstrap.min.js"></script>

<!-- Simple Search Jekyll -->
<script type="text/javascript" src="https://vikytech.in/assets/vendor/js/simple-jekyll-search.min.js"></script>

<!-- Global JS -->
<script type="text/javascript" src="https://vikytech.in/assets/js/global.js"></script>

<!-- Specific for each pages. -->

   <script type="text/javascript" src="https://vikytech.in/assets/js/copyCode.js"></script>


<!-- Plugin Jektify -->

<script src="https://vikytech.in/assets/vendor/jektify/js/jektify.min.js"></script>


<!-- Google reCAPTCHA (for Getform.io) -->
<!-- <script src="https://www.google.com/recaptcha/api.js"></script> -->

  </body>

  <!-- Disqus counter comments  -->
  
  
</html>

